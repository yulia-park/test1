/**
 * ìš´ì„¸ë§ˆë£¨ - íƒ€ë¡œ ëª¨ë“ˆ (tarot.js)
 * 
 * ì—­í• :
 * - íƒ€ë¡œ ì¹´ë“œ ë°ì´í„° ê´€ë¦¬
 * - ì¹´ë“œ ì„ íƒ ë° ì¤‘ë³µ ë°©ì§€ ë¡œì§
 * - ì¹´ë“œ í•´ì„ ìƒì„±
 * 
 * íŠ¹ì§•:
 * - ìƒˆë¡œê³ ì¹¨ ì‹œ ê²°ê³¼ ë³€ê²½ (ì™„ì „ ëœë¤)
 * - ì¹´ë“œ ì´ë¯¸ì§€ + í•´ì„ í…ìŠ¤íŠ¸
 * - ì˜¤ëŠ˜ì˜ íƒ€ë¡œ(1ì¥), íŠ¹ì • ìš´ì„¸(3ì¥) ì§€ì›
 */

// =====================================================
// íƒ€ë¡œ ì¹´ë“œ ë°ì´í„° (ë©”ì´ì € ì•„ë¥´ì¹´ë‚˜ 22ì¥)
// =====================================================
const TarotData = {
    // ë©”ì´ì € ì•„ë¥´ì¹´ë‚˜ ì¹´ë“œ
    majorArcana: [
        {
            id: 0,
            name: 'ë°”ë³´ (The Fool)',
            symbol: 'ğŸƒ',
            keywords: ['ìƒˆë¡œìš´ ì‹œì‘', 'ìˆœìˆ˜í•¨', 'ëª¨í—˜', 'ììœ '],
            upright: 'ìƒˆë¡œìš´ ì—¬ì •ì´ ì‹œì‘ë©ë‹ˆë‹¤. ë‘ë ¤ì›€ ì—†ì´ ì•ìœ¼ë¡œ ë‚˜ì•„ê°€ì„¸ìš”. ìˆœìˆ˜í•œ ë§ˆìŒìœ¼ë¡œ ì„¸ìƒì„ ë°”ë¼ë³´ë©´ ì˜ˆìƒì¹˜ ëª»í•œ ê¸°íšŒê°€ ì°¾ì•„ì˜¬ ê²ƒì…ë‹ˆë‹¤.',
            reversed: 'ë¬´ëª¨í•œ ê²°ì •ì€ í”¼í•˜ì„¸ìš”. ê³„íš ì—†ì´ í–‰ë™í•˜ë©´ í›„íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¡°ê¸ˆ ë” ì‹ ì¤‘í•˜ê²Œ ìƒê°í•  ì‹œê°„ì´ í•„ìš”í•©ë‹ˆë‹¤.',
            love: 'ìƒˆë¡œìš´ ë§Œë‚¨ì˜ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤. ì—´ë¦° ë§ˆìŒìœ¼ë¡œ ë‹¤ê°€ê°€ë©´ ì¢‹ì€ ì¸ì—°ì„ ë§Œë‚  ìˆ˜ ìˆì–´ìš”.',
            career: 'ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë‚˜ ì§ì¥ì˜ ì‹œì‘ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì°½ì˜ì ì¸ ì•„ì´ë””ì–´ë¥¼ í¼ì¹  ë•Œì…ë‹ˆë‹¤.',
            money: 'ìƒˆë¡œìš´ íˆ¬ì ê¸°íšŒê°€ ì˜¬ ìˆ˜ ìˆì§€ë§Œ, ì¶©ë¶„í•œ ì¡°ì‚¬ í›„ ê²°ì •í•˜ì„¸ìš”.'
        },
        {
            id: 1,
            name: 'ë§ˆë²•ì‚¬ (The Magician)',
            symbol: 'ğŸ©',
            keywords: ['ì°½ì¡°ë ¥', 'ì˜ì§€ë ¥', 'ì§‘ì¤‘', 'ëŠ¥ë ¥'],
            upright: 'ë‹¹ì‹ ì—ê²ŒëŠ” ì›í•˜ëŠ” ê²ƒì„ ì´ë£° ìˆ˜ ìˆëŠ” ëª¨ë“  ëŠ¥ë ¥ì´ ìˆìŠµë‹ˆë‹¤. ìì‹ ê°ì„ ê°€ì§€ê³  í–‰ë™í•˜ì„¸ìš”. ì§‘ì¤‘ë ¥ì„ ë°œíœ˜í•˜ë©´ ëª©í‘œë¥¼ ë‹¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
            reversed: 'ëŠ¥ë ¥ì„ ì œëŒ€ë¡œ ë°œíœ˜í•˜ì§€ ëª»í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì§‘ì¤‘ë ¥ì´ ííŠ¸ëŸ¬ì ¸ ìˆì„ ìˆ˜ ìˆìœ¼ë‹ˆ ë§ˆìŒì„ ë‹¤ì¡ìœ¼ì„¸ìš”.',
            love: 'ì ê·¹ì ì¸ êµ¬ì• ê°€ íš¨ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìì‹ ì˜ ë§¤ë ¥ì„ ë°œì‚°í•˜ì„¸ìš”.',
            career: 'ì—…ë¬´ ëŠ¥ë ¥ì´ ì¸ì •ë°›ì„ ë•Œì…ë‹ˆë‹¤. í”„ë ˆì  í…Œì´ì…˜ì´ë‚˜ ì¤‘ìš”í•œ íšŒì˜ì—ì„œ ì¢‹ì€ ì„±ê³¼ë¥¼ ë‚¼ ìˆ˜ ìˆì–´ìš”.',
            money: 'ì¬í…Œí¬ ëŠ¥ë ¥ì´ ë¹›ì„ ë°œí•©ë‹ˆë‹¤. ê³„íšì ì¸ íˆ¬ìê°€ ì¢‹ì€ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¬ ê²ƒì…ë‹ˆë‹¤.'
        },
        {
            id: 2,
            name: 'ì—¬ì‚¬ì œ (The High Priestess)',
            symbol: 'ğŸŒ™',
            keywords: ['ì§ê´€', 'ì‹ ë¹„', 'ë‚´ë©´ì˜ ì§€í˜œ', 'ë¬´ì˜ì‹'],
            upright: 'ë‚´ë©´ì˜ ëª©ì†Œë¦¬ì— ê·€ ê¸°ìš¸ì´ì„¸ìš”. ì§ê´€ì´ ì •ë‹µì„ ì•Œë ¤ì¤„ ê²ƒì…ë‹ˆë‹¤. ì¡°ìš©íˆ ìì‹ ì„ ëŒì•„ë³´ëŠ” ì‹œê°„ì´ í•„ìš”í•©ë‹ˆë‹¤.',
            reversed: 'ë‚´ë©´ì˜ ëª©ì†Œë¦¬ë¥¼ ë¬´ì‹œí•˜ê³  ìˆìŠµë‹ˆë‹¤. ì§„ì •ìœ¼ë¡œ ì›í•˜ëŠ” ê²ƒì´ ë¬´ì—‡ì¸ì§€ ìƒê°í•´ ë³´ì„¸ìš”.',
            love: 'ìˆ¨ê²¨ì§„ ê°ì •ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìƒëŒ€ë°©ì˜ ì§„ì‹¬ì„ íŒŒì•…í•˜ë ¤ ë…¸ë ¥í•˜ì„¸ìš”.',
            career: 'ìˆ¨ì€ ì •ë³´ë‚˜ ê¸°íšŒê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì„¸ì‹¬í•˜ê²Œ ê´€ì°°í•˜ì„¸ìš”.',
            money: 'ì¦‰í¥ì ì¸ íˆ¬ìë³´ë‹¤ëŠ” ì‹ ì¤‘í•œ íŒë‹¨ì´ í•„ìš”í•œ ì‹œê¸°ì…ë‹ˆë‹¤.'
        },
        {
            id: 3,
            name: 'ì—¬í™©ì œ (The Empress)',
            symbol: 'ğŸ‘‘',
            keywords: ['í’ìš”', 'ëª¨ì„±', 'ìì—°', 'ì°½ì¡°'],
            upright: 'í’ìš”ë¡­ê³  ì•ˆì •ì ì¸ ì‹œê¸°ê°€ ë‹¤ê°€ì˜µë‹ˆë‹¤. ì°½ì¡°ì ì¸ ì—ë„ˆì§€ê°€ ë„˜ì¹˜ë©°, ì£¼ë³€ ì‚¬ëŒë“¤ì—ê²Œ ë”°ëœ»í•¨ì„ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
            reversed: 'ìì‹ ì„ ëŒë³´ëŠ” ê²ƒì„ ìŠì§€ ë§ˆì„¸ìš”. ì§€ë‚˜ì¹œ í¬ìƒì€ ì˜¤íˆë ¤ í•´ê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
            love: 'ì—°ì¸ê³¼ì˜ ê´€ê³„ê°€ ë”ìš± ê¹Šì–´ì§‘ë‹ˆë‹¤. ê²°í˜¼ì´ë‚˜ ì„ì‹ ì˜ ê°€ëŠ¥ì„±ë„ ìˆì–´ìš”.',
            career: 'ì°½ì˜ì ì¸ í”„ë¡œì íŠ¸ì—ì„œ ì¢‹ì€ ì„±ê³¼ë¥¼ ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
            money: 'ì¬ì •ì  í’ìš”ê°€ ì°¾ì•„ì˜µë‹ˆë‹¤. íˆ¬ìí•œ ê²ƒë“¤ì´ ì—´ë§¤ë¥¼ ë§ºì„ ë•Œì…ë‹ˆë‹¤.'
        },
        {
            id: 4,
            name: 'í™©ì œ (The Emperor)',
            symbol: 'ğŸ°',
            keywords: ['ê¶Œìœ„', 'ë¦¬ë”ì‹­', 'ì•ˆì •', 'êµ¬ì¡°'],
            upright: 'ë¦¬ë”ì‹­ì„ ë°œíœ˜í•  ë•Œì…ë‹ˆë‹¤. ì²´ê³„ì ì´ê³  ê³„íšì ì¸ ì ‘ê·¼ì´ ì„±ê³µì„ ê°€ì ¸ì˜¬ ê²ƒì…ë‹ˆë‹¤. ì±…ì„ê° ìˆëŠ” í–‰ë™ì´ í•„ìš”í•©ë‹ˆë‹¤.',
            reversed: 'ì§€ë‚˜ì¹œ ê¶Œìœ„ì£¼ì˜ëŠ” ë°˜ë°œì„ ì‚´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìœ ì—°í•œ ì‚¬ê³ ê°€ í•„ìš”í•´ìš”.',
            love: 'ì•ˆì •ì ì¸ ê´€ê³„ë¥¼ ì›í•œë‹¤ë©´ ë¨¼ì € ì‹ ë¢°ë¥¼ ìŒ“ì•„ê°€ì„¸ìš”.',
            career: 'ìŠ¹ì§„ì´ë‚˜ ë¦¬ë” ì—­í• ì˜ ê¸°íšŒê°€ ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¤€ë¹„í•˜ì„¸ìš”.',
            money: 'ì•ˆì •ì ì¸ ì¬ì • ê´€ë¦¬ê°€ ì¥ê¸°ì  ë¶€ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.'
        },
        {
            id: 5,
            name: 'êµí™© (The Hierophant)',
            symbol: 'â›ª',
            keywords: ['ì „í†µ', 'ê°€ë¥´ì¹¨', 'ì‹ ë…', 'ê·œë²”'],
            upright: 'ì „í†µì ì¸ ë°©ë²•ì´ë‚˜ ì¡°ì–¸ìì˜ ë„ì›€ì´ í•„ìš”í•  ë•Œì…ë‹ˆë‹¤. ê²½í—˜ ë§ì€ ì‚¬ëŒì˜ ì¡°ì–¸ì— ê·€ ê¸°ìš¸ì´ì„¸ìš”.',
            reversed: 'ê´€ìŠµì—ì„œ ë²—ì–´ë‚˜ ìƒˆë¡œìš´ ì‹œê°ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìì‹ ë§Œì˜ ê¸¸ì„ ì°¾ì•„ë³´ì„¸ìš”.',
            love: 'ì „í†µì ì¸ ë°©ì‹ì˜ ì—°ì• ë‚˜ ê²°í˜¼ì— ëŒ€í•´ ìƒê°í•´ ë³¼ ë•Œì…ë‹ˆë‹¤.',
            career: 'ë©˜í† ë‚˜ ì„ ë°°ì˜ ì¡°ì–¸ì´ í° ë„ì›€ì´ ë  ê²ƒì…ë‹ˆë‹¤.',
            money: 'ê²€ì¦ëœ íˆ¬ì ë°©ë²•ì„ ë”°ë¥´ëŠ” ê²ƒì´ ì•ˆì „í•©ë‹ˆë‹¤.'
        },
        {
            id: 6,
            name: 'ì—°ì¸ë“¤ (The Lovers)',
            symbol: 'ğŸ’•',
            keywords: ['ì‚¬ë‘', 'ì„ íƒ', 'ì¡°í™”', 'ê´€ê³„'],
            upright: 'ì¤‘ìš”í•œ ì„ íƒì˜ ì‹œê¸°ì…ë‹ˆë‹¤. ë§ˆìŒì˜ ì†Œë¦¬ë¥¼ ë”°ë¥´ì„¸ìš”. ì‚¬ë‘ê³¼ ê´€ê³„ì—ì„œ ì¢‹ì€ ì¼ì´ ìƒê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
            reversed: 'ì„ íƒì— ëŒ€í•œ ê°ˆë“±ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¶©ë¶„íˆ ê³ ë¯¼í•œ í›„ ê²°ì •í•˜ì„¸ìš”.',
            love: 'ìš´ëª…ì ì¸ ë§Œë‚¨ì´ë‚˜ ê´€ê³„ì˜ ì§„ì „ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì§„ì‹¬ì„ í‘œí˜„í•˜ì„¸ìš”.',
            career: 'ì¤‘ìš”í•œ ì„ íƒì˜ ê¸°ë¡œì— ìˆìŠµë‹ˆë‹¤. ê°€ì¹˜ê´€ì— ë§ëŠ” ê²°ì •ì„ í•˜ì„¸ìš”.',
            money: 'ê³µë™ íˆ¬ìë‚˜ íŒŒíŠ¸ë„ˆì‹­ì—ì„œ ì¢‹ì€ ê²°ê³¼ê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.'
        },
        {
            id: 7,
            name: 'ì „ì°¨ (The Chariot)',
            symbol: 'ğŸ†',
            keywords: ['ìŠ¹ë¦¬', 'ì˜ì§€', 'ê²°ë‹¨ë ¥', 'ì „ì§„'],
            upright: 'ê°•í•œ ì˜ì§€ë¡œ ëª©í‘œë¥¼ í–¥í•´ ë‚˜ì•„ê°€ì„¸ìš”. ì¥ì• ë¬¼ì„ ê·¹ë³µí•˜ê³  ìŠ¹ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê²°ë‹¨ë ¥ì´ í•„ìš”í•œ ë•Œì…ë‹ˆë‹¤.',
            reversed: 'ë°©í–¥ì„ ìƒì—ˆê±°ë‚˜ ì˜ì§€ê°€ ì•½í•´ì¡Œì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì§‘ì¤‘í•˜ì„¸ìš”.',
            love: 'ì ê·¹ì ì¸ ì ‘ê·¼ì´ íš¨ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë§ì„¤ì´ì§€ ë§ˆì„¸ìš”.',
            career: 'ëª©í‘œë¥¼ í–¥í•´ ê°•í•˜ê²Œ ë°€ì–´ë¶™ì´ì„¸ìš”. ì„±ê³¼ê°€ ë”°ë¼ì˜¬ ê²ƒì…ë‹ˆë‹¤.',
            money: 'ì ê·¹ì ì¸ ì¬í…Œí¬ê°€ ì¢‹ì€ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.'
        },
        {
            id: 8,
            name: 'í˜ (Strength)',
            symbol: 'ğŸ¦',
            keywords: ['ë‚´ë©´ì˜ í˜', 'ìš©ê¸°', 'ì¸ë‚´', 'ìê¸° í†µì œ'],
            upright: 'ë¶€ë“œëŸ½ì§€ë§Œ ê°•í•œ í˜ì„ ë°œíœ˜í•  ë•Œì…ë‹ˆë‹¤. ì¸ë‚´ì™€ ìš©ê¸°ë¡œ ì–´ë ¤ì›€ì„ ê·¹ë³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
            reversed: 'ìì‹ ê°ì´ ë¶€ì¡±í•˜ê±°ë‚˜ ë‚´ë©´ì˜ ë‘ë ¤ì›€ì— ì‹œë‹¬ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìì‹ ì„ ë¯¿ìœ¼ì„¸ìš”.',
            love: 'ì¸ë‚´ì‹¬ì„ ê°€ì§€ê³  ê´€ê³„ë¥¼ í‚¤ì›Œê°€ì„¸ìš”. ì„œë‘ë¥´ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.',
            career: 'ì–´ë ¤ìš´ ìƒí™©ì—ì„œë„ ì¹¨ì°©í•¨ì„ ìœ ì§€í•˜ë©´ í•´ê²°ì±…ì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
            money: 'ì¶©ë™ì ì¸ ê²°ì •ë³´ë‹¤ëŠ” ê¾¸ì¤€í•œ ë…¸ë ¥ì´ ë¶€ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.'
        },
        {
            id: 9,
            name: 'ì€ë‘”ì (The Hermit)',
            symbol: 'ğŸ”ï¸',
            keywords: ['ê³ ë…', 'ì„±ì°°', 'ì§€í˜œ', 'íƒêµ¬'],
            upright: 'í˜¼ìë§Œì˜ ì‹œê°„ì´ í•„ìš”í•©ë‹ˆë‹¤. ë‚´ë©´ì„ ë“¤ì—¬ë‹¤ë³´ê³  ì§„ì •í•œ ìì‹ ì„ ì°¾ì•„ê°€ì„¸ìš”. ê¹Šì€ ì„±ì°°ì´ ë‹µì„ ì¤„ ê²ƒì…ë‹ˆë‹¤.',
            reversed: 'ê³ ë¦½ì—ì„œ ë²—ì–´ë‚˜ì•¼ í•  ë•Œì…ë‹ˆë‹¤. ë‹¤ë¥¸ ì‚¬ëŒë“¤ê³¼ ì†Œí†µí•˜ì„¸ìš”.',
            love: 'í˜¼ìë§Œì˜ ì‹œê°„ì´ í•„ìš”í•˜ê±°ë‚˜, ê´€ê³„ì—ì„œ ê±°ë¦¬ë¥¼ ë‘˜ ì‹œê¸°ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
            career: 'ì „ë¬¸ì„±ì„ í‚¤ìš°ê±°ë‚˜ ê³µë¶€í•  ì¢‹ì€ ì‹œê¸°ì…ë‹ˆë‹¤.',
            money: 'ì¥ê¸°ì ì¸ ì¬ì • ê³„íšì„ ì„¸ì›Œë³´ì„¸ìš”.'
        },
        {
            id: 10,
            name: 'ìš´ëª…ì˜ ìˆ˜ë ˆë°”í€´ (Wheel of Fortune)',
            symbol: 'ğŸ¡',
            keywords: ['ë³€í™”', 'ìš´ëª…', 'ê¸°íšŒ', 'ìˆœí™˜'],
            upright: 'ìš´ëª…ì˜ ì „í™˜ì ì— ìˆìŠµë‹ˆë‹¤. ì˜ˆìƒì¹˜ ëª»í•œ í–‰ìš´ì´ ì°¾ì•„ì˜¬ ìˆ˜ ìˆìœ¼ë‹ˆ ê¸°íšŒë¥¼ ë†“ì¹˜ì§€ ë§ˆì„¸ìš”.',
            reversed: 'ë¶ˆìš´í•œ ì‹œê¸°ê°€ ì˜¬ ìˆ˜ ìˆì§€ë§Œ ì´ê²ƒë„ ì§€ë‚˜ê°ˆ ê²ƒì…ë‹ˆë‹¤. ì¸ë‚´í•˜ì„¸ìš”.',
            love: 'ê´€ê³„ì— ë³€í™”ê°€ ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ ì¸ì—°ì˜ ê°€ëŠ¥ì„±ì´ ìˆì–´ìš”.',
            career: 'ëœ»ë°–ì˜ ê¸°íšŒê°€ ì°¾ì•„ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¤€ë¹„ë˜ì–´ ìˆìœ¼ì„¸ìš”.',
            money: 'ê¸ˆì „ì  í–‰ìš´ì´ ë”°ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë³µê¶Œì´ë‚˜ ìš°ì—°í•œ ìˆ˜ì…ì˜ ê°€ëŠ¥ì„±ë„.'
        },
        {
            id: 11,
            name: 'ì •ì˜ (Justice)',
            symbol: 'âš–ï¸',
            keywords: ['ê³µì •', 'ê· í˜•', 'ì±…ì„', 'ê²°ê³¼'],
            upright: 'ê³µì •í•œ ê²°ê³¼ë¥¼ ì–»ê²Œ ë  ê²ƒì…ë‹ˆë‹¤. ì •ì§í•˜ê³  ê· í˜• ì¡íŒ íƒœë„ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤. ë²•ì ì¸ ë¬¸ì œê°€ ìˆë‹¤ë©´ ìœ ë¦¬í•œ ê²°ê³¼ê°€ ì˜ˆìƒë©ë‹ˆë‹¤.',
            reversed: 'ë¶ˆê³µì •í•¨ì´ë‚˜ ë¶ˆê· í˜•ì— ì£¼ì˜í•˜ì„¸ìš”. ì±…ì„ì„ íšŒí”¼í•˜ë©´ ë¬¸ì œê°€ ì»¤ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
            love: 'ê´€ê³„ì—ì„œ ê³µì •í•¨ê³¼ ê· í˜•ì´ í•„ìš”í•©ë‹ˆë‹¤. ì„œë¡œ ì£¼ê³ ë°›ëŠ” ê²ƒì´ ì¤‘ìš”í•´ìš”.',
            career: 'ê³µì •í•œ í‰ê°€ë¥¼ ë°›ê²Œ ë  ê²ƒì…ë‹ˆë‹¤. ë…¸ë ¥í•œ ë§Œí¼ ì¸ì •ë°›ì•„ìš”.',
            money: 'ì •ë‹¹í•œ ë°©ë²•ìœ¼ë¡œ ì–»ì€ ìˆ˜ì…ì´ ë³µì´ ë©ë‹ˆë‹¤.'
        },
        {
            id: 12,
            name: 'ë§¤ë‹¬ë¦° ì‚¬ëŒ (The Hanged Man)',
            symbol: 'ğŸ™ƒ',
            keywords: ['í¬ìƒ', 'ê¸°ë‹¤ë¦¼', 'ìƒˆë¡œìš´ ì‹œê°', 'ë©ˆì¶¤'],
            upright: 'ì ì‹œ ë©ˆì¶”ê³  ë‹¤ë¥¸ ê´€ì ì—ì„œ ìƒí™©ì„ ë°”ë¼ë³´ì„¸ìš”. í¬ìƒì´ í•„ìš”í•  ìˆ˜ ìˆì§€ë§Œ, ê·¸ê²ƒì´ ì„±ì¥ìœ¼ë¡œ ì´ì–´ì§ˆ ê²ƒì…ë‹ˆë‹¤.',
            reversed: 'ë¶ˆí•„ìš”í•œ í¬ìƒì„ í•˜ê³  ìˆì§€ëŠ” ì•Šì€ì§€ ì ê²€í•˜ì„¸ìš”. ì•ìœ¼ë¡œ ë‚˜ì•„ê°ˆ ë•Œì…ë‹ˆë‹¤.',
            love: 'ê´€ê³„ì—ì„œ ì–‘ë³´ë‚˜ ì´í•´ê°€ í•„ìš”í•œ ì‹œê¸°ì…ë‹ˆë‹¤.',
            career: 'ë‹¹ì¥ì˜ ê²°ê³¼ë³´ë‹¤ ì¥ê¸°ì ì¸ ê´€ì ì„ ê°€ì§€ì„¸ìš”.',
            money: 'ì§€ê¸ˆì€ íˆ¬ìë³´ë‹¤ ê´€ë§í•˜ëŠ” ê²ƒì´ ì¢‹ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.'
        },
        {
            id: 13,
            name: 'ì£½ìŒ (Death)',
            symbol: 'ğŸ¦‹',
            keywords: ['ì¢…ë§', 'ë³€í™”', 'ì¬íƒ„ìƒ', 'ì „í™˜'],
            upright: 'ëì€ ìƒˆë¡œìš´ ì‹œì‘ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ê³¼ê±°ë¥¼ ë²„ë¦¬ê³  ìƒˆë¡œìš´ ë³€í™”ë¥¼ ë°›ì•„ë“¤ì´ì„¸ìš”. ë³€í˜ì˜ ì‹œê¸°ì…ë‹ˆë‹¤.',
            reversed: 'ë³€í™”ì— ì €í•­í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê³¼ê±°ì— ì§‘ì°©í•˜ë©´ ì•ìœ¼ë¡œ ë‚˜ì•„ê°ˆ ìˆ˜ ì—†ì–´ìš”.',
            love: 'ê´€ê³„ì˜ ëì´ë‚˜ ìƒˆë¡œìš´ ì‹œì‘ì„ ì˜ë¯¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë³€í™”ë¥¼ ë‘ë ¤ì›Œí•˜ì§€ ë§ˆì„¸ìš”.',
            career: 'ì§ì¥ì´ë‚˜ í”„ë¡œì íŠ¸ì˜ ì „í™˜ì ì…ë‹ˆë‹¤. ìƒˆë¡œìš´ ì‹œì‘ì„ ì¤€ë¹„í•˜ì„¸ìš”.',
            money: 'ì¬ì • ìƒí™©ì˜ í° ë³€í™”ê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ ê¸°íšŒë¥¼ ì°¾ìœ¼ì„¸ìš”.'
        },
        {
            id: 14,
            name: 'ì ˆì œ (Temperance)',
            symbol: 'âš—ï¸',
            keywords: ['ê· í˜•', 'ì¡°í™”', 'ì¸ë‚´', 'ì¤‘ìš©'],
            upright: 'ê· í˜•ê³¼ ì¡°í™”ê°€ í•„ìš”í•œ ë•Œì…ë‹ˆë‹¤. ê·¹ë‹¨ì„ í”¼í•˜ê³  ì¤‘ìš©ì„ ì§€í‚¤ì„¸ìš”. ì¸ë‚´ì‹¬ì„ ê°€ì§€ê³  ì²œì²œíˆ ë‚˜ì•„ê°€ë©´ ì¢‹ì€ ê²°ê³¼ê°€ ìˆì„ ê²ƒì…ë‹ˆë‹¤.',
            reversed: 'ê· í˜•ì„ ìƒì—ˆê±°ë‚˜ ê³¼ë„í•œ ìƒíƒœì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¡°ì ˆì´ í•„ìš”í•´ìš”.',
            love: 'ì„œë¡œì— ëŒ€í•œ ì´í•´ì™€ ì–‘ë³´ë¡œ ê´€ê³„ê°€ ë”ìš± ê¹Šì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
            career: 'ì—…ë¬´ì™€ ìƒí™œì˜ ê· í˜•ì„ ì°¾ìœ¼ì„¸ìš”. ê³¼ë¡œì— ì£¼ì˜í•˜ì„¸ìš”.',
            money: 'ì ˆì œëœ ì†Œë¹„ì™€ ê· í˜• ì¡íŒ ì¬ì • ê´€ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤.'
        },
        {
            id: 15,
            name: 'ì•…ë§ˆ (The Devil)',
            symbol: 'ğŸ˜ˆ',
            keywords: ['ìœ í˜¹', 'ì†ë°•', 'ì§‘ì°©', 'ë¬¼ì§ˆ'],
            upright: 'ë¬¼ì§ˆì  ìœ í˜¹ì´ë‚˜ ë¶€ì •ì ì¸ ìŠµê´€ì— ì£¼ì˜í•˜ì„¸ìš”. ìŠ¤ìŠ¤ë¡œ ë§Œë“  ì†ë°•ì—ì„œ ë²—ì–´ë‚  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.',
            reversed: 'ì†ë°•ì—ì„œ ë²—ì–´ë‚˜ê³  ìˆìŠµë‹ˆë‹¤. ììœ ë¥¼ í–¥í•´ ë‚˜ì•„ê°€ê³  ìˆì–´ìš”.',
            love: 'ê±´ê°•í•˜ì§€ ëª»í•œ ê´€ê³„ì— ìˆì§€ëŠ” ì•Šì€ì§€ ì ê²€í•˜ì„¸ìš”.',
            career: 'ë¬¼ì§ˆì  ì„±ê³µì—ë§Œ ì§‘ì°©í•˜ê³  ìˆì§€ëŠ” ì•Šì€ì§€ ëŒì•„ë³´ì„¸ìš”.',
            money: 'ê³¼ì†Œë¹„ë‚˜ ì¶©ë™ì ì¸ ì§€ì¶œì— ì£¼ì˜í•˜ì„¸ìš”.'
        },
        {
            id: 16,
            name: 'íƒ‘ (The Tower)',
            symbol: 'âš¡',
            keywords: ['ê²©ë³€', 'íŒŒê´´', 'ê¹¨ë‹¬ìŒ', 'í•´ë°©'],
            upright: 'ì˜ˆìƒì¹˜ ëª»í•œ ë³€í™”ê°€ ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì²˜ìŒì—ëŠ” ì¶©ê²©ì ì´ì§€ë§Œ, ì´ëŠ” ë” ë‚˜ì€ ê²ƒì„ ìœ„í•œ íŒŒê´´ì…ë‹ˆë‹¤.',
            reversed: 'ë³€í™”ë¥¼ ë§‰ìœ¼ë ¤ í•´ë„ ì†Œìš©ì—†ìŠµë‹ˆë‹¤. ì°¨ë¼ë¦¬ ë°›ì•„ë“¤ì´ëŠ” ê²ƒì´ ì¢‹ì•„ìš”.',
            love: 'ê´€ê³„ì— í° ë³€í™”ê°€ ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì§„ì‹¤ì´ ë°í˜€ì§ˆ ìˆ˜ ìˆì–´ìš”.',
            career: 'ê°‘ì‘ìŠ¤ëŸ¬ìš´ ë³€í™”ì— ëŒ€ë¹„í•˜ì„¸ìš”. í•˜ì§€ë§Œ ì´ê²ƒì´ ìƒˆë¡œìš´ ê¸°íšŒê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
            money: 'ì˜ˆìƒì¹˜ ëª»í•œ ì§€ì¶œì´ ìˆì„ ìˆ˜ ìˆìœ¼ë‹ˆ ë¹„ìƒê¸ˆì„ ì¤€ë¹„í•˜ì„¸ìš”.'
        },
        {
            id: 17,
            name: 'ë³„ (The Star)',
            symbol: 'â­',
            keywords: ['í¬ë§', 'ì˜ê°', 'ì¹˜ìœ ', 'ë¯¿ìŒ'],
            upright: 'í¬ë§ì°¬ ì‹œê¸°ê°€ ë‹¤ê°€ì˜µë‹ˆë‹¤. ê¿ˆê³¼ í¬ë§ì„ ê°€ì§€ì„¸ìš”. ì¹˜ìœ ì™€ íšŒë³µì˜ ì—ë„ˆì§€ê°€ í•¨ê»˜í•©ë‹ˆë‹¤.',
            reversed: 'í¬ë§ì„ ìƒì§€ ë§ˆì„¸ìš”. ì–´ë‘  ë’¤ì— ë¹›ì´ ìˆìŠµë‹ˆë‹¤.',
            love: 'ì§„ì •í•œ ì‚¬ë‘ì„ ë§Œë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í¬ë§ì„ ê°€ì§€ì„¸ìš”.',
            career: 'ì˜ê°ì„ ë°›ì•„ ìƒˆë¡œìš´ ì•„ì´ë””ì–´ê°€ ë– ì˜¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
            money: 'ì¬ì • ìƒí™©ì´ ì ì  ë‚˜ì•„ì§ˆ ê²ƒì…ë‹ˆë‹¤. í¬ë§ì„ ê°€ì§€ì„¸ìš”.'
        },
        {
            id: 18,
            name: 'ë‹¬ (The Moon)',
            symbol: 'ğŸŒ•',
            keywords: ['í™˜ìƒ', 'ë¬´ì˜ì‹', 'ë¶ˆì•ˆ', 'ì§ê´€'],
            upright: 'ìƒí™©ì´ ëª…í™•í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì§ê´€ì„ ë¯¿ë˜, í™˜ìƒì— ë¹ ì§€ì§€ ì•Šë„ë¡ ì£¼ì˜í•˜ì„¸ìš”.',
            reversed: 'í˜¼ë€ì—ì„œ ë²—ì–´ë‚˜ ì§„ì‹¤ì„ ë³¼ ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.',
            love: 'ìƒëŒ€ë°©ì˜ ì§„ì‹¬ì´ ë¶ˆí™•ì‹¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹œê°„ì„ ê°€ì§€ê³  ì§€ì¼œë³´ì„¸ìš”.',
            career: 'ìˆ¨ê²¨ì§„ ë¬¸ì œê°€ ìˆì„ ìˆ˜ ìˆìœ¼ë‹ˆ ì£¼ì˜ ê¹Šê²Œ ì‚´í´ë³´ì„¸ìš”.',
            money: 'ë¶ˆí™•ì‹¤í•œ íˆ¬ìëŠ” í”¼í•˜ì„¸ìš”. ì‹ ì¤‘í•¨ì´ í•„ìš”í•©ë‹ˆë‹¤.'
        },
        {
            id: 19,
            name: 'íƒœì–‘ (The Sun)',
            symbol: 'â˜€ï¸',
            keywords: ['ì„±ê³µ', 'ê¸°ì¨', 'í™œë ¥', 'ê¸ì •'],
            upright: 'ë°ê³  ê¸ì •ì ì¸ ì—ë„ˆì§€ê°€ ê°€ë“í•œ ì‹œê¸°ì…ë‹ˆë‹¤. ì„±ê³µê³¼ ê¸°ì¨ì´ í•¨ê»˜í•©ë‹ˆë‹¤. ìì‹ ê°ì„ ê°€ì§€ì„¸ìš”!',
            reversed: 'ë°ì€ ë©´ì„ ë³´ë ¤ ë…¸ë ¥í•˜ì„¸ìš”. ê¸ì •ì ì¸ ë§ˆì¸ë“œê°€ í•„ìš”í•©ë‹ˆë‹¤.',
            love: 'í–‰ë³µí•˜ê³  ì¦ê±°ìš´ ì—°ì• ê°€ ê¸°ë‹¤ë¦¬ê³  ìˆìŠµë‹ˆë‹¤.',
            career: 'ì„±ê³µì´ ëˆˆì•ì— ìˆìŠµë‹ˆë‹¤. ìì‹ ê°ì„ ê°€ì§€ê³  ë‚˜ì•„ê°€ì„¸ìš”.',
            money: 'ì¬ì •ì ìœ¼ë¡œ í’ìš”ë¡œìš´ ì‹œê¸°ì…ë‹ˆë‹¤. ì¢‹ì€ ì†Œì‹ì´ ìˆì„ ìˆ˜ ìˆì–´ìš”.'
        },
        {
            id: 20,
            name: 'ì‹¬íŒ (Judgement)',
            symbol: 'ğŸ“¯',
            keywords: ['ê°ì„±', 'ë¶€í™œ', 'í‰ê°€', 'ê°±ì‹ '],
            upright: 'ê³¼ê±°ë¥¼ ëŒì•„ë³´ê³  ìì‹ ì„ í‰ê°€í•  ë•Œì…ë‹ˆë‹¤. ìƒˆë¡œìš´ ë¶€ë¦„ì— ì‘ë‹µí•˜ì„¸ìš”. ê°ì„±ê³¼ ë³€í™”ì˜ ì‹œê¸°ì…ë‹ˆë‹¤.',
            reversed: 'ìê¸° ë¹„íŒì—ì„œ ë²—ì–´ë‚˜ì„¸ìš”. ê³¼ê±°ì— ì§‘ì°©í•˜ì§€ ë§ê³  ì•ìœ¼ë¡œ ë‚˜ì•„ê°€ì„¸ìš”.',
            love: 'ê´€ê³„ì— ëŒ€í•´ ì§„ì§€í•˜ê²Œ í‰ê°€í•˜ê³  ê²°ì •ì„ ë‚´ë¦´ ë•Œì…ë‹ˆë‹¤.',
            career: 'ì¤‘ìš”í•œ í‰ê°€ë‚˜ ê²°ì •ì˜ ì‹œê¸°ì…ë‹ˆë‹¤. ì‹¤ë ¥ì„ ë°œíœ˜í•˜ì„¸ìš”.',
            money: 'ê³¼ê±°ì˜ íˆ¬ì ê²°ê³¼ê°€ ë‚˜íƒ€ë‚  ë•Œì…ë‹ˆë‹¤.'
        },
        {
            id: 21,
            name: 'ì„¸ê³„ (The World)',
            symbol: 'ğŸŒ',
            keywords: ['ì™„ì„±', 'ì„±ì·¨', 'ì¡°í™”', 'ì—¬í–‰'],
            upright: 'ëª©í‘œì˜ ì™„ì„±ê³¼ ì„±ì·¨ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. ëª¨ë“  ê²ƒì´ ì¡°í™”ë¡­ê²Œ ë§ì•„ë–¨ì–´ì§€ëŠ” ì‹œê¸°ì…ë‹ˆë‹¤. ì¶•í•˜í•©ë‹ˆë‹¤!',
            reversed: 'ì™„ì„± ì§ì „ì— ìˆì§€ë§Œ ë§ˆì§€ë§‰ ë…¸ë ¥ì´ í•„ìš”í•©ë‹ˆë‹¤. í¬ê¸°í•˜ì§€ ë§ˆì„¸ìš”.',
            love: 'ì™„ì „í•˜ê³  ì¡°í™”ë¡œìš´ ê´€ê³„ë¥¼ ì´ë£° ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
            career: 'í° í”„ë¡œì íŠ¸ì˜ ì„±ê³µì ì¸ ì™„ë£Œê°€ ì˜ˆìƒë©ë‹ˆë‹¤.',
            money: 'ì¬ì •ì  ëª©í‘œë¥¼ ë‹¬ì„±í•  ìˆ˜ ìˆëŠ” ì‹œê¸°ì…ë‹ˆë‹¤.'
        }
    ],
    
    // íƒ€ë¡œ ìœ í˜•ë³„ ì„¤ì •
    types: {
        today: {
            name: 'ì˜¤ëŠ˜ì˜ íƒ€ë¡œ',
            cardCount: 1,
            deckSize: 5,
            description: 'ì˜¤ëŠ˜ í•˜ë£¨ì— ëŒ€í•œ ë©”ì‹œì§€ì…ë‹ˆë‹¤.'
        },
        love: {
            name: 'ì• ì •ìš´ íƒ€ë¡œ',
            cardCount: 3,
            deckSize: 7,
            description: 'ì‚¬ë‘ê³¼ ê´€ê³„ì— ëŒ€í•œ ë©”ì‹œì§€ì…ë‹ˆë‹¤.'
        },
        career: {
            name: 'ì§ì¥ìš´ íƒ€ë¡œ',
            cardCount: 3,
            deckSize: 7,
            description: 'ì§ì¥ê³¼ ì»¤ë¦¬ì–´ì— ëŒ€í•œ ë©”ì‹œì§€ì…ë‹ˆë‹¤.'
        },
        money: {
            name: 'ì¬ë¬¼ìš´ íƒ€ë¡œ',
            cardCount: 3,
            deckSize: 7,
            description: 'ì¬ë¬¼ê³¼ ê¸ˆì „ì— ëŒ€í•œ ë©”ì‹œì§€ì…ë‹ˆë‹¤.'
        }
    }
};

// =====================================================
// íƒ€ë¡œ ë¡œì§
// =====================================================
const TarotLogic = {
    currentType: 'today',
    selectedCards: [],
    drawnCards: [],
    deckCards: [],
    
    /**
     * íƒ€ë¡œ ë± ì´ˆê¸°í™”
     * @param {string} type - íƒ€ë¡œ ìœ í˜•
     */
    initDeck(type) {
        this.currentType = type;
        this.selectedCards = [];
        this.drawnCards = [];
        
        const typeConfig = TarotData.types[type];
        
        // ì „ì²´ ì¹´ë“œì—ì„œ deckSizeë§Œí¼ ëœë¤ ì„ íƒ (ì™„ì „ ëœë¤)
        const shuffled = [...TarotData.majorArcana].sort(() => Math.random() - 0.5);
        this.deckCards = shuffled.slice(0, typeConfig.deckSize);
    },
    
    /**
     * ì¹´ë“œ ì„ íƒ
     * @param {number} index - ë±ì—ì„œì˜ ì¸ë±ìŠ¤
     * @returns {boolean} - ì„ íƒ ì„±ê³µ ì—¬ë¶€
     */
    selectCard(index) {
        const typeConfig = TarotData.types[this.currentType];
        
        // ì´ë¯¸ ìµœëŒ€ ê°œìˆ˜ ì„ íƒë¨
        if (this.selectedCards.length >= typeConfig.cardCount) {
            return false;
        }
        
        // ì´ë¯¸ ì„ íƒëœ ì¹´ë“œ
        if (this.selectedCards.includes(index)) {
            return false;
        }
        
        this.selectedCards.push(index);
        this.drawnCards.push(this.deckCards[index]);
        
        return true;
    },
    
    /**
     * ì„ íƒ ì™„ë£Œ ì—¬ë¶€
     * @returns {boolean}
     */
    isSelectionComplete() {
        const typeConfig = TarotData.types[this.currentType];
        return this.selectedCards.length >= typeConfig.cardCount;
    },
    
    /**
     * ê²°ê³¼ ìƒì„±
     * @returns {Object} - íƒ€ë¡œ ê²°ê³¼
     */
    getResult() {
        const typeConfig = TarotData.types[this.currentType];
        
        // ì¹´ë“œë³„ ì •ë°©í–¥/ì—­ë°©í–¥ ê²°ì • (ê° 50% í™•ë¥ )
        const cardsWithOrientation = this.drawnCards.map(card => ({
            ...card,
            isReversed: Math.random() > 0.5,
            interpretation: this.getInterpretation(card, this.currentType)
        }));
        
        return {
            type: this.currentType,
            typeName: typeConfig.name,
            description: typeConfig.description,
            cards: cardsWithOrientation,
            overallMessage: this.generateOverallMessage(cardsWithOrientation)
        };
    },
    
    /**
     * ì¹´ë“œ í•´ì„ ê°€ì ¸ì˜¤ê¸°
     * @param {Object} card - ì¹´ë“œ ë°ì´í„°
     * @param {string} type - íƒ€ë¡œ ìœ í˜•
     * @returns {string} - í•´ì„ í…ìŠ¤íŠ¸
     */
    getInterpretation(card, type) {
        switch (type) {
            case 'love':
                return card.love;
            case 'career':
                return card.career;
            case 'money':
                return card.money;
            default:
                return card.upright;
        }
    },
    
    /**
     * ì¢…í•© ë©”ì‹œì§€ ìƒì„±
     * @param {Array} cards - ì„ íƒëœ ì¹´ë“œë“¤
     * @returns {string} - ì¢…í•© ë©”ì‹œì§€
     */
    generateOverallMessage(cards) {
        const positiveKeywords = ['ì„±ê³µ', 'í¬ë§', 'ì‚¬ë‘', 'ê¸°ì¨', 'í’ìš”', 'í–‰ìš´'];
        const neutralKeywords = ['ë³€í™”', 'ì„ íƒ', 'ê· í˜•', 'ê¸°ë‹¤ë¦¼'];
        
        let positiveCount = 0;
        let neutralCount = 0;
        
        cards.forEach(card => {
            card.keywords.forEach(keyword => {
                if (positiveKeywords.some(pk => keyword.includes(pk))) positiveCount++;
                if (neutralKeywords.some(nk => keyword.includes(nk))) neutralCount++;
            });
            if (card.isReversed) positiveCount--;
        });
        
        if (positiveCount >= 2) {
            return 'ì „ë°˜ì ìœ¼ë¡œ ë§¤ìš° ê¸ì •ì ì¸ ì¹´ë“œë“¤ì´ ë‚˜ì™”ìŠµë‹ˆë‹¤. ì¢‹ì€ ê¸°ìš´ì´ í•¨ê»˜í•˜ê³  ìˆìœ¼ë‹ˆ ìì‹ ê°ì„ ê°€ì§€ê³  ì•ìœ¼ë¡œ ë‚˜ì•„ê°€ì„¸ìš”.';
        } else if (positiveCount >= 0) {
            return 'ê· í˜• ì¡íŒ ë©”ì‹œì§€ê°€ ì „í•´ì§€ê³  ìˆìŠµë‹ˆë‹¤. í˜„ì¬ ìƒí™©ì„ ì˜ ê´€ì°°í•˜ê³  ì‹ ì¤‘í•˜ê²Œ ê²°ì •í•˜ë©´ ì¢‹ì€ ê²°ê³¼ê°€ ìˆì„ ê²ƒì…ë‹ˆë‹¤.';
        } else {
            return 'ë„ì „ì ì¸ ì‹œê¸°ê°€ ì˜¬ ìˆ˜ ìˆì§€ë§Œ, ì´ê²ƒì€ ì„±ì¥ì˜ ê¸°íšŒì…ë‹ˆë‹¤. ë‚´ë©´ì˜ í˜ì„ ë¯¿ê³  í˜„ëª…í•˜ê²Œ ëŒ€ì²˜í•˜ì„¸ìš”.';
        }
    },
    
    /**
     * ë¦¬ì…‹
     */
    reset() {
        this.selectedCards = [];
        this.drawnCards = [];
        this.deckCards = [];
    }
};

// =====================================================
// íƒ€ë¡œ ë Œë”ëŸ¬
// =====================================================
const TarotRenderer = {
    /**
     * íƒ€ë¡œ ë± ë Œë”ë§
     * @param {Array} cards - ë± ì¹´ë“œë“¤
     * @returns {string} - HTML ë¬¸ìì—´
     */
    renderDeck(cards) {
        return cards.map((card, index) => `
            <div class="tarot-card" data-index="${index}" role="button" tabindex="0" aria-label="íƒ€ë¡œ ì¹´ë“œ ${index + 1}ë²ˆ">
            </div>
        `).join('');
    },
    
    /**
     * íƒ€ë¡œ ê²°ê³¼ ë Œë”ë§
     * @param {Object} result - íƒ€ë¡œ ê²°ê³¼
     * @returns {string} - HTML ë¬¸ìì—´
     */
    renderResult(result) {
        const cardsHtml = result.cards.map((card, index) => `
            <div class="tarot-card-result">
                <div class="tarot-card-image ${card.isReversed ? 'reversed' : ''}">
                    ${card.symbol}
                </div>
                <div class="tarot-card-name">
                    ${card.name}
                    ${card.isReversed ? '<small>(ì—­ë°©í–¥)</small>' : ''}
                </div>
                <div class="tarot-card-meaning">
                    ${card.interpretation}
                </div>
            </div>
        `).join('');
        
        const keywordsHtml = result.cards.map(card => 
            card.keywords.map(kw => `<span class="keyword-tag">${kw}</span>`).join('')
        ).join('');
        
        return `
            <div class="result-header">
                <h3>${result.typeName}</h3>
                <p class="result-date">${result.description}</p>
            </div>
            
            <div class="result-body">
                <div class="tarot-cards-result">
                    ${cardsHtml}
                </div>
                
                <div class="tarot-interpretation">
                    <h4><i class="fas fa-scroll"></i> ì¢…í•© í•´ì„</h4>
                    <p>${result.overallMessage}</p>
                </div>
                
                <div class="tarot-keywords">
                    <h4><i class="fas fa-tags"></i> í‚¤ì›Œë“œ</h4>
                    <div class="keyword-tags">
                        ${keywordsHtml}
                    </div>
                </div>
            </div>
        `;
    }
};

// =====================================================
// ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
// =====================================================
$(document).ready(function() {
    // íƒ€ë¡œ ìœ í˜• ì„ íƒ
    $('.tarot-type-btn').on('click', function() {
        const type = $(this).data('type');
        
        // UI ì—…ë°ì´íŠ¸
        $('.tarot-type-btn').removeClass('active');
        $(this).addClass('active');
        
        // ë± ì´ˆê¸°í™”
        TarotLogic.initDeck(type);
        
        // ë± ë Œë”ë§
        const deckHtml = TarotRenderer.renderDeck(TarotLogic.deckCards);
        $('#tarot-deck').html(deckHtml);
        
        // ì„ íƒ ì •ë³´ ì—…ë°ì´íŠ¸
        const typeConfig = TarotData.types[type];
        $('#total-count').text(typeConfig.cardCount);
        $('#selected-count').text(0);
        $('#tarot-selected').prop('hidden', false);
        
        // ê²°ê³¼ ë° ë¦¬ì…‹ ë²„íŠ¼ ìˆ¨ê¸°ê¸°
        $('#tarot-result').prop('hidden', true);
        $('#tarot-reset').prop('hidden', true);
    });
    
    // íƒ€ë¡œ ì¹´ë“œ ì„ íƒ (ì´ë²¤íŠ¸ ìœ„ì„)
    $('#tarot-deck').on('click keypress', '.tarot-card', function(e) {
        // Enter í‚¤ ë˜ëŠ” í´ë¦­
        if (e.type === 'keypress' && e.which !== 13) return;
        
        const index = $(this).data('index');
        
        if ($(this).hasClass('selected') || $(this).hasClass('disabled')) {
            return;
        }
        
        const success = TarotLogic.selectCard(index);
        
        if (success) {
            $(this).addClass('selected');
            $('#selected-count').text(TarotLogic.selectedCards.length);
            
            // ì„ íƒ ì™„ë£Œ ì‹œ
            if (TarotLogic.isSelectionComplete()) {
                // ë‚˜ë¨¸ì§€ ì¹´ë“œ ë¹„í™œì„±í™”
                $('.tarot-card:not(.selected)').addClass('disabled');
                
                // ì ì‹œ í›„ ê²°ê³¼ í‘œì‹œ
                setTimeout(() => {
                    const result = TarotLogic.getResult();
                    const html = TarotRenderer.renderResult(result);
                    FortuneMaru.ui.showResult('tarot-result', html);
                    
                    $('#tarot-reset').prop('hidden', false);
                }, 500);
            }
        }
    });
    
    // ë‹¤ì‹œ ë½‘ê¸°
    $('#tarot-reset').on('click', function() {
        const currentType = TarotLogic.currentType;
        
        // ë¦¬ì…‹
        TarotLogic.reset();
        TarotLogic.initDeck(currentType);
        
        // ë± ë‹¤ì‹œ ë Œë”ë§
        const deckHtml = TarotRenderer.renderDeck(TarotLogic.deckCards);
        $('#tarot-deck').html(deckHtml);
        
        // UI ì´ˆê¸°í™”
        $('#selected-count').text(0);
        $('#tarot-result').prop('hidden', true);
        $(this).prop('hidden', true);
    });
    
    // ì„¹ì…˜ ë³€ê²½ ì‹œ íƒ€ë¡œ ì´ˆê¸°í™”
    $(document).on('sectionChange', function(e, sectionId) {
        if (sectionId === 'tarot') {
            // ê¸°ë³¸ê°’ìœ¼ë¡œ 'ì˜¤ëŠ˜ì˜ íƒ€ë¡œ' ì´ˆê¸°í™”
            if (TarotLogic.deckCards.length === 0) {
                $('.tarot-type-btn[data-type="today"]').click();
            }
        }
    });
});

// ì „ì—­ ë‚´ë³´ë‚´ê¸°
window.TarotData = TarotData;
window.TarotLogic = TarotLogic;
window.TarotRenderer = TarotRenderer;








